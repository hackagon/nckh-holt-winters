Phan loai hoat chat theo co so su dung nam 2018
===============================================

BANG PHUC LUC: Phan loai hoat chat dua theo co so su dung nam 2018
------------------------------------------------------------------

### (Chi in 20 rows tuong trung, khi lam phu luc se xuat ra day dau)

``` r
knitr::kable(phanloai_cs_thuoc, format="html", 
             col.names = c("Hoat chat", "Co so thuoc", "% Co so thuoc", "% tich luy"))
```

<table>
<thead>
<tr>
<th style="text-align:left;">
Hoat chat
</th>
<th style="text-align:right;">
Co so thuoc
</th>
<th style="text-align:right;">
% Co so thuoc
</th>
<th style="text-align:right;">
% tich luy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pegfilgrastim\_6mg\_0,6ml\_bom\_tiem
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
0.0002867
</td>
<td style="text-align:right;">
99.99764
</td>
</tr>
<tr>
<td style="text-align:left;">
atorvastatin\_10\_vien
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.0002646
</td>
<td style="text-align:right;">
99.99790
</td>
</tr>
<tr>
<td style="text-align:left;">
bendamustin\_25\_lo
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.0002646
</td>
<td style="text-align:right;">
99.99817
</td>
</tr>
<tr>
<td style="text-align:left;">
vaselin\_10g\_tube
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.0002426
</td>
<td style="text-align:right;">
99.99841
</td>
</tr>
<tr>
<td style="text-align:left;">
amikacin\_125\_lo
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.0002205
</td>
<td style="text-align:right;">
99.99863
</td>
</tr>
<tr>
<td style="text-align:left;">
magne\_calci\_lo
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.0001764
</td>
<td style="text-align:right;">
99.99881
</td>
</tr>
<tr>
<td style="text-align:left;">
nhu\_dich\_lipid\_10%\_500\_chai
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.0001764
</td>
<td style="text-align:right;">
99.99899
</td>
</tr>
<tr>
<td style="text-align:left;">
morphin\_10mg\_1ml\_lo
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.0001544
</td>
<td style="text-align:right;">
99.99914
</td>
</tr>
<tr>
<td style="text-align:left;">
octreotid\_0,1mg\_ml\_lo
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.0001544
</td>
<td style="text-align:right;">
99.99929
</td>
</tr>
<tr>
<td style="text-align:left;">
erythropoietin\_2000\_lo
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.0001323
</td>
<td style="text-align:right;">
99.99943
</td>
</tr>
<tr>
<td style="text-align:left;">
immune\_globulin\_50mg\_ml\_chai
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.0001323
</td>
<td style="text-align:right;">
99.99956
</td>
</tr>
<tr>
<td style="text-align:left;">
idarubicin\_5\_lo
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0001103
</td>
<td style="text-align:right;">
99.99967
</td>
</tr>
<tr>
<td style="text-align:left;">
ampiciline\_1\_lo
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0000882
</td>
<td style="text-align:right;">
99.99976
</td>
</tr>
<tr>
<td style="text-align:left;">
palonosetron\_0,25\_lo
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.0000662
</td>
<td style="text-align:right;">
99.99982
</td>
</tr>
<tr>
<td style="text-align:left;">
digoxin\_0.5mg\_lo
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0000441
</td>
<td style="text-align:right;">
99.99987
</td>
</tr>
<tr>
<td style="text-align:left;">
moxifloxacin\_400\_vien
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0000441
</td>
<td style="text-align:right;">
99.99991
</td>
</tr>
<tr>
<td style="text-align:left;">
adenosin\_6\_lo
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000221
</td>
<td style="text-align:right;">
99.99993
</td>
</tr>
<tr>
<td style="text-align:left;">
insulin\_dai\_cham\_100\_lo
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000221
</td>
<td style="text-align:right;">
99.99996
</td>
</tr>
<tr>
<td style="text-align:left;">
nicardipin\_10\_lo
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000221
</td>
<td style="text-align:right;">
99.99998
</td>
</tr>
<tr>
<td style="text-align:left;">
nifedipin\_30\_vien
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0000221
</td>
<td style="text-align:right;">
100.00000
</td>
</tr>
</tbody>
</table>
BANG: Phan loai hoat chat dua theo co so su dung nam 2018
---------------------------------------------------------

``` r
phanloai_cs_thuoc <- tonghop %>%
  filter(nam == 2018) %>%
  filter(xuattrongky_sl != 0) %>%
  group_by(hoatchat_dvt) %>%
  summarise(cs_thuoc = sum(xuattrongky_sl, na.rm = TRUE)) %>%
  arrange(desc(cs_thuoc)) %>%
  mutate(cs_thuoc_percent = cs_thuoc*100/sum(cs_thuoc)) %>%
  mutate(cs_thuoc_percent_tichluy = cumsum(cs_thuoc)*100/sum(cs_thuoc)) %>%
  mutate(phanloai_cs = ifelse(cs_thuoc_percent_tichluy < 67, "A", ifelse(cs_thuoc_percent_tichluy < 85, "B", "c"))) %>%
  group_by(phanloai_cs) %>%
  summarise(cs_thuoc = sum(cs_thuoc)) %>%
  mutate(cs_thuoc_percent = cs_thuoc*100/sum(cs_thuoc)) %>%
  mutate(cs_thuoc_percent_tichluy = cumsum(cs_thuoc)*100/sum(cs_thuoc)) %>%
  mutate(phanloai_cs = c("A", "B", "C"))
```

``` r
knitr::kable(phanloai_cs_thuoc, format="html", 
             col.names = c("Phan loai", "Co so thuoc", "% Co so thuoc", "% tich luy"))
```

<table>
<thead>
<tr>
<th style="text-align:left;">
Phan loai
</th>
<th style="text-align:right;">
Co so thuoc
</th>
<th style="text-align:right;">
% Co so thuoc
</th>
<th style="text-align:right;">
% tich luy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:right;">
3023611
</td>
<td style="text-align:right;">
66.68224
</td>
<td style="text-align:right;">
66.68224
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:right;">
814075
</td>
<td style="text-align:right;">
17.95348
</td>
<td style="text-align:right;">
84.63573
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:right;">
696671
</td>
<td style="text-align:right;">
15.36427
</td>
<td style="text-align:right;">
100.00000
</td>
</tr>
</tbody>
</table>
